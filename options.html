<!DOCTYPE html>
<html>
<head>
    <title>SmarTube Options</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <main class="options-page">
        <header class="page-header">
            <h1>SmarTube Options</h1>
            <p class="page-subtitle">Configure API keys, UI behavior, and custom actions for the YouTube panel.</p>
        </header>

        <section class="option-item option-card">
            <fieldset>
                <legend>Theme Settings</legend>
                <label>
                    <input type="radio" name="theme" value="auto" id="themeAuto"> Auto (Match YouTube)
                </label>
                <label>
                    <input type="radio" name="theme" value="light" id="themeLight"> Light
                </label>
                <label>
                    <input type="radio" name="theme" value="dark" id="themeDark"> Dark
                </label>
            </fieldset>
        </section>

        <section class="option-item option-card">
            <fieldset>
                <legend>Container Settings</legend>
                <label>
                    <input type="checkbox" name="initialCollapsed" id="initialCollapsed"> Start with container collapsed
                </label>
            </fieldset>
        </section>

        <section class="option-item option-card">
            <label for="geminiApiKey">Gemini API Key:</label>
            <input type="password" id="geminiApiKey" name="geminiApiKey" size="50">
            <a href="https://aistudio.google.com/app/apikey" target="_blank" class="help-link">Get Gemini Key</a>
        </section>

        <section class="option-item option-card">
            <label for="geminiModel">Gemini Model:</label>
            <select id="geminiModel" name="geminiModel">
                <option value="gemini-3.1-flash">Gemini 3.1 Flash (Latest)</option>
                <option value="gemini-3-flash">Gemini 3 Flash</option>
                <option value="gemini-2.5-flash-lite">Gemini 2.5 Flash Lite</option>
                <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
                <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
                <option value="gemini-2.0-flash-001">Gemini 2.0 Flash</option>
                <option value="gemini-2.0-flash-lite-001">Gemini 2.0 Flash Lite</option>
                <option value="gemini-1.5-flash-latest">Gemini 1.5 Flash (Latest)</option>
                <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                <option value="gemini-live-2.5-flash">Gemini Live 2.5 Flash</option>
            </select>
        </section>

        <section class="option-item option-card full-width">
            <fieldset>
                <legend>Supadata API Keys</legend>
                <div class="option-item">
                    <label for="newSupadataKeyName">Key Name (Optional):</label>
                    <input type="text" id="newSupadataKeyName" name="newSupadataKeyName" size="30" placeholder="e.g., Personal Key">
                </div>
                <div class="option-item option-item-inline-end">
                    <label for="newSupadataKey">API Key Value:</label>
                    <input type="password" id="newSupadataKey" name="newSupadataKey" size="50" placeholder="Enter Supadata API Key">
                    <button id="addSupadataKeyBtn" class="button-inline">Add Key</button>
                </div>
                <a href="https://supadata.ai/" target="_blank" class="help-link help-link-block">Get Supadata Key</a>
                <div id="supadataKeysList" class="stack-top-md">
                    <!-- Keys will be listed here by options.js -->
                </div>
            </fieldset>
        </section>

        <section class="option-item option-card">
            <label for="summaryLanguage">Summary Language:</label>
            <select id="summaryLanguage" name="summaryLanguage">
                <option value="auto">Auto (Match Transcript Language)</option>
                <option value="en">English</option>
                <option value="ar">Arabic</option>
                <option value="fr">French</option>
                <option value="es">Spanish</option>
            </select>
        </section>

        <section class="option-item option-card full-width">
            <fieldset>
                <legend>Read Aloud</legend>
                <label>
                    <input type="checkbox" id="readAloudEnabled" name="readAloudEnabled"> Enable read-aloud for assistant responses
                </label>
                <div class="option-item">
                    <label for="readAloudLanguage">Voice Language:</label>
                    <select id="readAloudLanguage" name="readAloudLanguage">
                        <option value="auto">Auto</option>
                        <option value="en">English</option>
                        <option value="ar">Arabic</option>
                        <option value="fr">French</option>
                        <option value="es">Spanish</option>
                    </select>
                </div>
                <div class="option-item read-aloud-slider-row">
                    <label for="readAloudRate">Speed:</label>
                    <input type="range" id="readAloudRate" name="readAloudRate" min="0.7" max="1.4" step="0.1" value="1">
                    <span id="readAloudRateValue" class="read-aloud-slider-value">1.0x</span>
                </div>
                <div class="option-item read-aloud-slider-row">
                    <label for="readAloudPitch">Pitch:</label>
                    <input type="range" id="readAloudPitch" name="readAloudPitch" min="0.8" max="1.2" step="0.1" value="1">
                    <span id="readAloudPitchValue" class="read-aloud-slider-value">1.0</span>
                </div>
                <p class="option-help-text option-help-compact">Uses your browser's installed voices for playback on YouTube pages.</p>
            </fieldset>
        </section>

        <section class="option-item option-card">
            <fieldset>
                <legend>Font Size Settings</legend>
                <div class="font-size-controls">
                    <button id="decrease-font-btn" title="Decrease font size">-</button>
                    <span id="current-font-size">14px</span>
                    <button id="increase-font-btn" title="Increase font size">+</button>
                </div>
                <div class="font-size-preview">
                    <p>This is how your text will look in the summary container.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                </div>
            </fieldset>
        </section>

        <section class="option-item option-card full-width">
            <fieldset>
                <legend>Custom Action Buttons</legend>
                <p class="option-help-text">Create reusable prompts that appear as buttons in the YouTube panel. Placeholders: <code>{{transcript}}</code>, <code>{{language_instruction}}</code>, and <code>{{video_url}}</code>.</p>
                <div class="custom-action-form">
                    <div class="form-row">
                        <label for="newActionLabel">Button Label</label>
                        <input type="text" id="newActionLabel" name="newActionLabel" placeholder="e.g., Summarize">
                    </div>
                    <div class="form-row">
                        <label for="newActionPrompt">Prompt</label>
                        <textarea id="newActionPrompt" name="newActionPrompt" rows="4" placeholder="Describe what Gemini should do. Use {{transcript}} for the transcript; optional {{language_instruction}} and {{video_url}} placeholders are also available."></textarea>
                    </div>
                    <div class="form-buttons">
                        <button id="saveCustomActionBtn" type="button">Add Action</button>
                        <button id="cancelCustomActionEditBtn" type="button" class="secondary-button" hidden>Cancel</button>
                    </div>
                </div>
                <div id="customActionsList" class="custom-actions-list">
                    <!-- Custom actions rendered by options.js -->
                </div>
            </fieldset>
        </section>

        <span id="statusMessage"></span>
    </main>

    <script src="options.js"></script>
</body>
</html>
